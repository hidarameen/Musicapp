import{c as r,a as m,u as f,r as y,d as j,j as e,M as b,h as t,H as N}from"./index-BEosjvFY.js";import{S as v,C as w}from"./search-DeohbOdD.js";import{U as x}from"./users-CyOdMYj1.js";import{D as k}from"./disc-bvSIxYzJ.js";import{V as C}from"./video-B9ELjgIP.js";import{D as L}from"./download-CXu8oPbW.js";import{L as A}from"./log-in-C_8GnUY0.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=r("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=r("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=r("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=r("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function P(){var i,o,d;const{user:s}=m(),[a,l]=f(),[$,S]=y.useState(!1),{data:D}=j({queryKey:["/api/users",s==null?void 0:s.id,"playlists"],enabled:!!(s!=null&&s.id)}),h=()=>{const c=document.getElementById("adminModal");c&&c.classList.remove("hidden")},{logout:p,isLoggingOut:n}=m(),u=()=>{p()},g=()=>{l("/login")};return e.jsxs("aside",{className:"w-64 bg-card border-r border-border p-6 sticky top-0 h-screen overflow-y-auto scroll-hidden",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:e.jsx(b,{className:"w-6 h-6 text-primary-foreground"})}),e.jsx("span",{className:"text-xl font-bold text-foreground",children:"MusicHub"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(t,{to:"/",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${a==="/"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-home",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{children:"الرئيسية"})]}),e.jsxs(t,{to:"/search",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${a==="/search"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-search",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"البحث"})]}),e.jsxs(t,{to:"/artists",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${a==="/artists"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-artists",children:[e.jsx(x,{className:"w-5 h-5"}),e.jsx("span",{children:"الفنانين"})]}),e.jsxs(t,{to:"/albums",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${a==="/albums"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-albums",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:"الألبومات"})]}),e.jsxs(t,{to:"/videos",className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${a==="/videos"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-videos",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"الفيديوهات"})]})]}),e.jsx("hr",{className:"my-6 border-border"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"قوائم التشغيل"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{to:"/playlists",className:`flex items-center space-x-3 p-2 rounded-lg transition-colors ${a==="/playlists"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-favorites",children:[e.jsx(N,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"المفضلة"})]}),e.jsxs(t,{to:"/downloads",className:`flex items-center space-x-3 p-2 rounded-lg transition-colors ${a==="/downloads"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"nav-downloads",children:[e.jsx(L,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"تم تحميلها"})]}),e.jsxs("button",{onClick:()=>l("/recent"),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted transition-colors w-full text-left","data-testid":"nav-recent",children:[e.jsx(w,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"تم تشغيلها مؤخراً"})]})]})]}),e.jsx("hr",{className:"my-6 border-border"}),(s==null?void 0:s.isAdmin)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"الإدارة"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:h,className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted transition-colors w-full text-left","data-testid":"nav-upload",children:[e.jsx(I,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm",children:"رفع محتوى"})]}),e.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted transition-colors","data-testid":"nav-stats",children:[e.jsx(H,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm",children:"الإحصائيات"})]}),e.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted transition-colors","data-testid":"nav-users",children:[e.jsx(x,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm",children:"المستخدمين"})]})]})]}),e.jsxs("div",{className:"absolute bottom-6 left-6 right-6 space-y-4",children:[s?e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center overflow-hidden",children:s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-sm font-semibold text-primary-foreground",children:((i=s.firstName)==null?void 0:i[0])||((o=s.email)==null?void 0:o[0])||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:s.firstName||((d=s.email)==null?void 0:d.split("@")[0])||"مستخدم"}),s.isAdmin&&e.jsx("div",{className:"text-xs text-accent",children:"مدير"})]})]}):e.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center p-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors","data-testid":"button-sidebar-login",children:[e.jsx(A,{className:"w-4 h-4 ml-2"}),"تسجيل الدخول"]}),s?e.jsxs("button",{onClick:u,disabled:n,className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":"button-logout",children:[e.jsx(U,{className:"ml-2 h-4 w-4"}),n?"جاري تسجيل الخروج...":"تسجيل الخروج"]}):null]})]})}export{P as S,I as U};
