import{c as y,a as k,b as A,u as F,r as d,d as H,e as I,j as e,B as a,M as o,P as m,H as x,q as L,f as T}from"./index-CQ1CQ49d.js";import{D as q,d as M,a as $,b as O,c as E}from"./dialog-g6WB_omj.js";import{I as B}from"./input-qs3aDXbm.js";import{aX as f,aV as K}from"./authUtils-Cwid23vT.js";import{L as j}from"./label-Dtdxxf9X.js";import{S as i}from"./skeleton-CIS5eNOV.js";import{F as N}from"./Home-hx_O9Bxj.js";import"./index-DVzphYQM.js";import"./index-C5XG4sJr.js";import"./Sidebar-ChIl8nvY.js";import"./search-CDKHGpBb.js";import"./users-D2wGyDQg.js";import"./disc-BNOE1RpA.js";import"./video-DTwUMtTX.js";import"./download-BPDawjom.js";import"./log-in-Y6tNToT0.js";import"./tabs-3Ol6Aavg.js";import"./index-XX2ipCzA.js";import"./select-BYC0_WxO.js";import"./check-C9F5kHoc.js";import"./card-DpWYKoFa.js";import"./badge-BdddEGjl.js";import"./trash-2-CJoP-qv4.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=y("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function he(){k();const{toast:l}=A(),[,b]=F(),[v,u]=d.useState(!1),[n,h]=d.useState(""),[p,g]=d.useState(""),{data:r,isLoading:w}=H({queryKey:["/api/playlists"],staleTime:5*60*1e3}),c=I({mutationFn:async s=>{await T("POST","/api/playlists",s)},onSuccess:()=>{L.invalidateQueries({queryKey:["/api/playlists"]}),u(!1),h(""),g(""),l({title:"تم إنشاء قائمة التشغيل",description:"تم إنشاء قائمة التشغيل بنجاح"})},onError:()=>{l({title:"خطأ",description:"فشل في إنشاء قائمة التشغيل",variant:"destructive"})}}),P=s=>{if(s.preventDefault(),!n.trim()){l({title:"خطأ",description:"يرجى إدخال اسم قائمة التشغيل",variant:"destructive"});return}c.mutate({name:n,description:p||void 0})},C=s=>{b(`/playlist/${s}`)},D=s=>{const t=s.toLowerCase();return t.includes("حب")||t.includes("love")?o:t.includes("جديد")||t.includes("new")?N:t.includes("كلاسيك")||t.includes("classic")?R:t.includes("تركيز")||t.includes("focus")?Q:o},S=s=>{const t=["from-primary to-accent","from-green-500 to-blue-500","from-purple-500 to-pink-500","from-orange-500 to-red-500"];return t[s%t.length]};return w?e.jsxs("section",{className:"px-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"قوائم التشغيل المقترحة"}),e.jsxs(a,{className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"إنشاء قائمة جديدة"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(4)].map((s,t)=>e.jsxs("div",{className:"bg-card rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(i,{className:"w-16 h-16 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(i,{className:"h-4 w-3/4"}),e.jsx(i,{className:"h-3 w-1/2"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-8 h-8 rounded-full"}),e.jsx(i,{className:"h-3 w-16"})]}),e.jsx(i,{className:"w-4 h-4"})]})]},t))})]}):e.jsxs("section",{className:"px-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"قوائم التشغيل المقترحة"}),e.jsxs(q,{open:v,onOpenChange:u,children:[e.jsx(M,{asChild:!0,children:e.jsxs(a,{className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors","data-testid":"button-create-playlist",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"إنشاء قائمة جديدة"]})}),e.jsxs($,{className:"bg-card border-border",children:[e.jsx(O,{children:e.jsx(E,{className:"text-foreground",children:"إنشاء قائمة تشغيل جديدة"})}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"playlistName",className:"text-foreground",children:"اسم قائمة التشغيل"}),e.jsx(B,{id:"playlistName",type:"text",placeholder:"أدخل اسم قائمة التشغيل",value:n,onChange:s=>h(s.target.value),className:"bg-input border-border text-foreground","data-testid":"input-playlist-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"playlistDescription",className:"text-foreground",children:"الوصف (اختياري)"}),e.jsx(K,{id:"playlistDescription",placeholder:"أدخل وصف قائمة التشغيل",value:p,onChange:s=>g(s.target.value),className:"bg-input border-border text-foreground","data-testid":"textarea-playlist-description"})]}),e.jsx(a,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:c.isPending,"data-testid":"button-submit-playlist",children:c.isPending?"جاري الإنشاء...":"إنشاء قائمة التشغيل"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[!r||!Array.isArray(r)||r.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-card rounded-xl p-4 hover:bg-muted transition-colors cursor-pointer hover-scale",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"أغاني الحب الكلاسيكية"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قائمة مقترحة • قريباً"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{size:"sm",className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 h-3 text-primary-foreground"})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"قريباً"})]}),e.jsx(a,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-red-500",children:e.jsx(x,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-card rounded-xl p-4 hover:bg-muted transition-colors cursor-pointer hover-scale",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"أحدث الأغاني العربية"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قائمة مقترحة • قريباً"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{size:"sm",className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 h-3 text-primary-foreground"})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"قريباً"})]}),e.jsx(a,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-red-500",children:e.jsx(x,{className:"w-4 h-4"})})]})]})]}):null,r&&Array.isArray(r)&&r.map((s,t)=>{const z=D(s.name);return e.jsxs("div",{className:"bg-card rounded-xl p-4 hover:bg-muted transition-colors cursor-pointer hover-scale",onClick:()=>C(s.id),"data-testid":`card-playlist-${s.id}`,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${S(t)} rounded-lg flex items-center justify-center`,children:e.jsx(z,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold","data-testid":`text-playlist-name-${s.id}`,children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-playlist-description-${s.id}`,children:s.description||"قائمة تشغيل شخصية"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{size:"sm",className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 h-3 text-primary-foreground"})}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"0 أغنية"})]}),e.jsx(a,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-red-500",children:e.jsx(x,{className:"w-4 h-4"})})]})]},s.id)})]})]})}export{he as default};
